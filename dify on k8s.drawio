<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36" version="26.2.14" pages="2">
  <diagram name="dify deployment architecture" id="M9-vWqR0a8VkDA4s0-UR">
    <mxGraphModel dx="1213" dy="1810" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="bIabsGmHAc08aG7PX65u-3" value="" style="whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="150" y="60" width="710" height="710" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-29" value="" style="whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="205" y="347" width="240" height="60" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-1" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=pod" parent="1" vertex="1">
          <mxGeometry x="211" y="350" width="50" height="48" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-2" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=pod" parent="1" vertex="1">
          <mxGeometry x="301" y="350" width="50" height="48" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-3" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=pod" parent="1" vertex="1">
          <mxGeometry x="391" y="350" width="50" height="48" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HMCnFXwHoIg8V-Ax1Z1f-4" target="HMCnFXwHoIg8V-Ax1Z1f-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="690" y="205" />
              <mxPoint x="690" y="205" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-4" value="" style="image;sketch=0;aspect=fixed;html=1;points=[];align=center;fontSize=12;image=img/lib/mscae/DNS.svg;" parent="1" vertex="1">
          <mxGeometry x="630" y="180" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-5" value="Load Balancer" style="shape=rect;fillColor=#1192E8;aspect=fixed;resizable=0;labelPosition=center;verticalLabelPosition=bottom;align=center;verticalAlign=top;strokeColor=none;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="413" y="80" width="48" height="48" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-6" value="" style="fillColor=#ffffff;strokeColor=none;dashed=0;outlineConnect=0;html=1;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;part=1;movable=0;resizable=0;rotatable=0;shape=mxgraph.ibm_cloud.load-balancer--vpc" parent="HMCnFXwHoIg8V-Ax1Z1f-5" vertex="1">
          <mxGeometry width="24" height="24" relative="1" as="geometry">
            <mxPoint x="12" y="12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-7" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=svc" parent="1" vertex="1">
          <mxGeometry x="300" y="265" width="50" height="48" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-9" value=";" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.995;exitY=0.63;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.02;entryY=0.509;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="HMCnFXwHoIg8V-Ax1Z1f-8" target="HMCnFXwHoIg8V-Ax1Z1f-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="630" y="220" as="targetPoint" />
            <Array as="points">
              <mxPoint x="462" y="205" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-12" value="A record: myrag.io" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=20;" parent="HMCnFXwHoIg8V-Ax1Z1f-9" vertex="1" connectable="0">
          <mxGeometry x="-0.0399" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="HMCnFXwHoIg8V-Ax1Z1f-8" target="HMCnFXwHoIg8V-Ax1Z1f-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-8" value="host: myrag.io" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=ing" parent="1" vertex="1">
          <mxGeometry x="412" y="176" width="50" height="48" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.511;entryY=-0.034;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="HMCnFXwHoIg8V-Ax1Z1f-5" target="HMCnFXwHoIg8V-Ax1Z1f-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-13" value="ip" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=20;" parent="HMCnFXwHoIg8V-Ax1Z1f-11" vertex="1" connectable="0">
          <mxGeometry x="-0.3057" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-20" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=svc" parent="1" vertex="1">
          <mxGeometry x="412" y="270" width="50" height="48" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-22" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=svc" parent="1" vertex="1">
          <mxGeometry x="529" y="264" width="50" height="48" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="HMCnFXwHoIg8V-Ax1Z1f-8" target="HMCnFXwHoIg8V-Ax1Z1f-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="HMCnFXwHoIg8V-Ax1Z1f-8" target="HMCnFXwHoIg8V-Ax1Z1f-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="HMCnFXwHoIg8V-Ax1Z1f-8" target="HMCnFXwHoIg8V-Ax1Z1f-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="HMCnFXwHoIg8V-Ax1Z1f-7" target="HMCnFXwHoIg8V-Ax1Z1f-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-31" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Postgresql&lt;/div&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#C925D1;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=16;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.rds_postgresql_instance;" parent="1" vertex="1">
          <mxGeometry x="205" y="516" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-32" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Redis&lt;/div&gt;" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.redis;fillColor=#2E73B8;gradientColor=none;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="294" y="516" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-33" value="&lt;div&gt;&lt;span style=&quot;background-color: light-dark(rgb(255, 255, 255), rgb(18, 18, 18)); color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;OBS&lt;/span&gt;&lt;/div&gt;" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn1.iconfinder.com/data/icons/unicons-line-vol-6/24/vector-square-alt-128.png;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="387" y="510" width="89" height="89" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-34" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Milvus&lt;/div&gt;" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#005F4B;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;shape=mxgraph.veeam2.object_storage;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="504" y="516" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-35" value="chatbox" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn2.iconfinder.com/data/icons/vivid/48/chat-128.png;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="727" y="-46" width="78" height="78" as="geometry" />
        </mxCell>
        <mxCell id="OpYvqUBnXqu1qCnP_9A8-1" value="Deployments： API, Worker, frontend,Sandbox, pluginDaemon" style="text;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="520" y="358" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HMCnFXwHoIg8V-Ax1Z1f-14" value="PrivateZone&lt;div&gt;register domain name&lt;/div&gt;" style="whiteSpace=wrap;html=1;verticalAlign=top;labelBackgroundColor=default;sketch=0;" parent="1" vertex="1">
          <mxGeometry x="727" y="175" width="115" height="60" as="geometry" />
        </mxCell>
        <mxCell id="bIabsGmHAc08aG7PX65u-4" value="VPC" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="160" y="70" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Wy4m1eBd9flb5pK3FDR8-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.436;entryY=0.824;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Wy4m1eBd9flb5pK3FDR8-1" target="HMCnFXwHoIg8V-Ax1Z1f-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="999" y="440" />
              <mxPoint x="323" y="440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Wy4m1eBd9flb5pK3FDR8-3" value="OpenAI API" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=19;" parent="Wy4m1eBd9flb5pK3FDR8-2" vertex="1" connectable="0">
          <mxGeometry x="-0.015" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Wy4m1eBd9flb5pK3FDR8-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="Wy4m1eBd9flb5pK3FDR8-1" target="Wy4m1eBd9flb5pK3FDR8-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Wy4m1eBd9flb5pK3FDR8-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="Wy4m1eBd9flb5pK3FDR8-1" target="Wy4m1eBd9flb5pK3FDR8-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Wy4m1eBd9flb5pK3FDR8-1" value="XInference" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#01A88D;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=16;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elastic_inference_2;" parent="1" vertex="1">
          <mxGeometry x="960" y="328" width="79" height="79" as="geometry" />
        </mxCell>
        <mxCell id="Wy4m1eBd9flb5pK3FDR8-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="HMCnFXwHoIg8V-Ax1Z1f-5" target="Wy4m1eBd9flb5pK3FDR8-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
            <mxPoint x="437" y="80" as="sourcePoint" />
            <mxPoint x="727" y="-1" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Wy4m1eBd9flb5pK3FDR8-4" value="Dify2OpenAI&lt;div&gt;https://github.com/fatwang2/dify2openai&lt;/div&gt;" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.api_gateway;fillColor=#D9A741;gradientColor=none;" parent="1" vertex="1">
          <mxGeometry x="542" y="-32.5" width="52.25" height="55" as="geometry" />
        </mxCell>
        <mxCell id="Wy4m1eBd9flb5pK3FDR8-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.117;entryY=0.52;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Wy4m1eBd9flb5pK3FDR8-4" target="HMCnFXwHoIg8V-Ax1Z1f-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Wy4m1eBd9flb5pK3FDR8-13" value="OpenAI API" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;" parent="Wy4m1eBd9flb5pK3FDR8-6" vertex="1" connectable="0">
          <mxGeometry x="-0.0614" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Wy4m1eBd9flb5pK3FDR8-8" value="&#xa;&lt;span style=&quot;color: rgb(53, 64, 82); font-family: ui-sans-serif, system-ui, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;, &amp;quot;Noto Color Emoji&amp;quot;; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; background-color: rgb(249, 250, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;qwen2.5-instruct&lt;/span&gt;&#xa;&#xa;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#01A88D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=16;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.sagemaker_model;" parent="1" vertex="1">
          <mxGeometry x="1120" y="270" width="58" height="58" as="geometry" />
        </mxCell>
        <mxCell id="Wy4m1eBd9flb5pK3FDR8-9" value="deepseek-r1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#01A88D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=16;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.sagemaker_model;" parent="1" vertex="1">
          <mxGeometry x="1120" y="407" width="58" height="58" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="GGiZtklimbd8jVil-N9W" name="xinference deployment architecture">
    <mxGraphModel dx="1213" dy="641" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-2" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=pod" vertex="1" parent="1">
          <mxGeometry x="478" y="261" width="150" height="144" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-4" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=pod" vertex="1" parent="1">
          <mxGeometry x="80" y="273" width="142.7" height="137" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-6" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=svc" vertex="1" parent="1">
          <mxGeometry x="498" y="91" width="87" height="83.52" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-7" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;ServiceWeb/NodeIP:30003&lt;/div&gt;&lt;div&gt;9997&lt;/div&gt;" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=svc" vertex="1" parent="1">
          <mxGeometry x="580" y="490" width="50" height="48" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="2rSF4i_q9lsRNJbe6xzF-16" target="2rSF4i_q9lsRNJbe6xzF-14">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="543" y="179" as="sourcePoint" />
            <mxPoint x="543" y="262" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.512;entryY=0.183;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="2rSF4i_q9lsRNJbe6xzF-18" target="2rSF4i_q9lsRNJbe6xzF-13">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="715.6500000000001" y="277.328" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-11" value="Service: Service-web/NodeIP, this can be ELB" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="660" y="498" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-12" value="Service: service-supervisor/ClusterIP" style="text;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="443" y="32" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-13" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; background-color: rgb(236, 236, 236); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;&quot;&gt;container port:9999&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="588" y="321" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.005;exitY=0.63;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="2rSF4i_q9lsRNJbe6xzF-7" target="2rSF4i_q9lsRNJbe6xzF-14">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="125" y="148" as="sourcePoint" />
            <mxPoint x="150.70000000000005" y="315.20000000000005" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-14" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; background-color: rgb(236, 236, 236); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;&quot;&gt;container port:9997&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="398" y="321" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-16" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;&quot;&gt;service-supervisor-web:9997&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="358" y="121" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-17" value="&lt;div style=&quot;forced-color-adjust: none; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; background-color: rgb(236, 236, 236); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="585" y="109" width="190" height="70" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-18" value="&lt;div style=&quot;forced-color-adjust: none; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: center; background-color: rgb(236, 236, 236);&quot;&gt;&lt;span style=&quot;background-color: light-dark(rgb(236, 236, 236), rgb(34, 34, 34)); color: light-dark(rgb(0, 0, 0), rgb(237, 237, 237));&quot;&gt;service-supervisor-oscar:9999&lt;/span&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="588" y="121" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-19" value="" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=svc" vertex="1" parent="1">
          <mxGeometry x="111.5" y="91" width="87" height="83.52" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-20" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: normal; background-color: rgb(236, 236, 236); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;Service: service-worker/ClusterIP&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="32" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-21" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; background-color: rgb(236, 236, 236); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;container:Supervisor&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="498" y="290" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="2rSF4i_q9lsRNJbe6xzF-22" target="2rSF4i_q9lsRNJbe6xzF-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-25" value="curl&lt;div&gt;make sure supervisor start first&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2rSF4i_q9lsRNJbe6xzF-24">
          <mxGeometry x="0.0167" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-22" value="InitContainers:&#xa;check-supervisor" style="text;whiteSpace=wrap;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="102.7" y="370" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-23" value="Containers: Worker" style="text;whiteSpace=wrap;labelBackgroundColor=default;" vertex="1" parent="1">
          <mxGeometry x="111.5" y="273" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-26" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; background-color: rgb(236, 236, 236); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;container port:30001&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry y="330" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-27" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;no name : 30001&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="14.7" y="128" width="85" height="26" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.407;entryY=-0.15;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="2rSF4i_q9lsRNJbe6xzF-27" target="2rSF4i_q9lsRNJbe6xzF-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-29" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" target="2rSF4i_q9lsRNJbe6xzF-17">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="155" y="93" as="sourcePoint" />
            <mxPoint x="541.5" y="93" as="targetPoint" />
            <Array as="points">
              <mxPoint x="155" y="70" />
              <mxPoint x="680" y="70" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-30" value="Supervisor and Worker&amp;nbsp; communicate each other&amp;nbsp;&lt;div&gt;between &quot;Actors&quot;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="2rSF4i_q9lsRNJbe6xzF-29">
          <mxGeometry x="-0.0341" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-31" value="communicate at 9999???" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="700" y="79" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2rSF4i_q9lsRNJbe6xzF-34" value="multiple worker pods......" style="aspect=fixed;sketch=0;html=1;dashed=0;whitespace=wrap;verticalLabelPosition=bottom;verticalAlign=top;fillColor=#2875E2;strokeColor=#ffffff;points=[[0.005,0.63,0],[0.1,0.2,0],[0.9,0.2,0],[0.5,0,0],[0.995,0.63,0],[0.72,0.99,0],[0.5,1,0],[0.28,0.99,0]];shape=mxgraph.kubernetes.icon2;kubernetesLabel=1;prIcon=pod" vertex="1" parent="1">
          <mxGeometry x="80.15" y="430" width="142.7" height="137" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
